<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>使用hexo搭建博客 | 唐昊的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="——————————————2015.03.16 更新—————————————————
最近出了3.0新版本，目前有些插件和主题并不兼容。所以暂时不更新，继续用2.8.3版本。若要更新可参考Migrating from 2.x to 3.0
——————————————2015.04.26 更新—————————————————
更新博客托管一份至GitCafe上。因为要用到新的插件，首先删除/">
<meta property="og:type" content="article">
<meta property="og:title" content="使用hexo搭建博客">
<meta property="og:url" content="http://yoursite.com/2014/10/26/使用hexo搭建博客/index.html">
<meta property="og:site_name" content="唐昊的博客">
<meta property="og:description" content="——————————————2015.03.16 更新—————————————————
最近出了3.0新版本，目前有些插件和主题并不兼容。所以暂时不更新，继续用2.8.3版本。若要更新可参考Migrating from 2.x to 3.0
——————————————2015.04.26 更新—————————————————
更新博客托管一份至GitCafe上。因为要用到新的插件，首先删除/">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="使用hexo搭建博客">
<meta name="twitter:description" content="——————————————2015.03.16 更新—————————————————
最近出了3.0新版本，目前有些插件和主题并不兼容。所以暂时不更新，继续用2.8.3版本。若要更新可参考Migrating from 2.x to 3.0
——————————————2015.04.26 更新—————————————————
更新博客托管一份至GitCafe上。因为要用到新的插件，首先删除/">
  
    <link rel="alternative" href="/atom.xml" title="唐昊的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="https://raw.githubusercontent.com/thddaniel/thddaniel.github.io/master/img/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<div class="profilepic">
			<img src="https://raw.githubusercontent.com/thddaniel/thddaniel.github.io/master/img/anonymous.jpg">
		</div>

		<hgroup>
		  <h1 class="header-author"><a href="/">Tang Hao</a></h1>
		</hgroup>

		

		
			<div class="onoffswitch">
			    <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="myonoffswitch" checked>
			    <label class="onoffswitch-label" for="myonoffswitch">
			        <span class="onoffswitch-inner"></span>
			        <span class="onoffswitch-switch"></span>
			    </label>
			</div>
		

		<div class="switch-area">
			<section class="first-part">
				<nav class="header-menu">
					<ul>
					
						<li><a href="/">主页</a></li>
			        
						<li><a href="/archives">所有文章</a></li>
			        
						<li><a href="/instagram">相册</a></li>
			        
					</ul>
				</nav>
				<nav class="header-nav">
					<div class="social">
						
							<a class="github" target="_blank" href="https://github.com/thddaniel" title="github">github</a>
				        
							<a class="quora" target="_blank" href="http://www.quora.com/Daniel-Hao-2" title="quora">quora</a>
				        
							<a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
				        
							<a class="email" target="_blank" href="mailto:thddaniel92@gmail.com" title="email">email</a>
				        
					</div>
				</nav>
			</section>
			
			
			<section class="second-part">
				<div class="widget tagcloud">
					<a href="/tags/Open-Courses/" style="font-size: 20px;">Open Courses</a><a href="/tags/git/" style="font-size: 15px;">git</a><a href="/tags/创业/" style="font-size: 10px;">创业</a><a href="/tags/思维/" style="font-size: 15px;">思维</a><a href="/tags/数据结构/" style="font-size: 10px;">数据结构</a><a href="/tags/理财/" style="font-size: 10px;">理财</a><a href="/tags/计算机原理/" style="font-size: 10px;">计算机原理</a><a href="/tags/记忆力/" style="font-size: 15px;">记忆力</a>
				</div>
			</section>
			
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay"></div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img src="https://raw.githubusercontent.com/thddaniel/thddaniel.github.io/master/img/anonymous.jpg">
			</div>

			<hgroup>
			  <h1 class="header-author"><a href="/">Tang Hao</a></h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/instagram">相册</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/thddaniel" title="github">github</a>
			        
						<a class="quora" target="_blank" href="http://www.quora.com/Daniel-Hao-2" title="quora">quora</a>
			        
						<a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
			        
						<a class="email" target="_blank" href="mailto:thddaniel92@gmail.com" title="email">email</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <article id="post-使用hexo搭建博客" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2014/10/26/使用hexo搭建博客/" class="article-date">
  	<time datetime="2014-10-26T19:19:00.000Z" itemprop="datePublished">2014-10-26</time>
</a>
      
      
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      使用hexo搭建博客
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
              
              <!-- 文章目录开始 -->
                
                  <div id="toc" class="toc-article">
                      <strong class="toc-title">目录Contents</strong>
                  <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Hexo安装"><span class="toc-number">1.</span> <span class="toc-text">Hexo安装</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#安装Node-js"><span class="toc-number">1.1.</span> <span class="toc-text">安装Node.js</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装Hexo"><span class="toc-number">1.2.</span> <span class="toc-text">安装Hexo</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#创建hexo文件夹"><span class="toc-number">1.3.</span> <span class="toc-text">创建hexo文件夹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装依赖包"><span class="toc-number">1.4.</span> <span class="toc-text">安装依赖包</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Hexo的使用"><span class="toc-number">2.</span> <span class="toc-text">Hexo的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#安装插件和主题"><span class="toc-number">2.1.</span> <span class="toc-text">安装插件和主题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#添加RSS"><span class="toc-number">2.1.1.</span> <span class="toc-text">添加RSS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#添加sitemap"><span class="toc-number">2.1.2.</span> <span class="toc-text">添加sitemap</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#添加Google_Analytics"><span class="toc-number">2.1.3.</span> <span class="toc-text">添加Google Analytics</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#部署到github上"><span class="toc-number">3.</span> <span class="toc-text">部署到github上</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#部署到gitCafe上"><span class="toc-number">4.</span> <span class="toc-text">部署到gitCafe上</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#写文章"><span class="toc-number">5.</span> <span class="toc-text">写文章</span></a></li></ol>
                  </div>
                
             <!-- 文章目录结束 -->
 
        
        <p>——————————————2015.03.16 更新—————————————————</p>
<p>最近出了3.0新版本，目前有些插件和主题并不兼容。所以暂时不更新，继续用2.8.3版本。若要更新可参考<a href="https://github.com/hexojs/hexo/wiki/Migrating-from-2.x-to-3.0" target="_blank" rel="external">Migrating from 2.x to 3.0</a></p>
<p>——————————————2015.04.26 更新—————————————————</p>
<p>更新博客托管一份至GitCafe上。因为要用到新的插件，首先删除/usr/local/bin/hexo,按照上面文档升级hexo3.0。</p>
<hr>
<h1 id="Hexo安装"><strong>Hexo安装</strong></h1><p>Hexo的作者是<a href="https://twitter.com/tommy351" target="_blank" rel="external">tommy351</a>，根据官方介绍，Hexo是一个简单、快速、强大的博客发布工具，支持Markdown格式。Hexo是一个基于Node.js的静态博客程序，其编译上百篇文字只需要几秒。hexo生成的静态网页可以直接放到GitHub Pages，BAE，SAE等平台上。<br>参考<a href="http://hexo.io/docs/index.html" target="_blank" rel="external">官方文档</a></p>
<h2 id="安装Node-js"><strong>安装Node.js</strong></h2><p>在 Windows 环境下安装 Node.js非常简单，仅须<a href="http://nodejs.org/" target="_blank" rel="external">下载</a>安装文件并执行即可完成安装。</p>
<h2 id="安装Hexo"><strong>安装Hexo</strong></h2><p>打开git。利用 <code>npm</code> 命令即可安装。<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> -g hexo</span><br></pre></td></tr></table></figure></p>
<a id="more"></a>
<h2 id="创建hexo文件夹"><strong>创建hexo文件夹</strong></h2><p>安装完成后，在你喜爱的文件夹下（如H:\hexo），执行以下指令(在H:\hexo内点击鼠标右键，选择Git bash)，Hexo 即会自动在目标文件夹建立网站所需要的所有文件。<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">hexo</span> init</span><br></pre></td></tr></table></figure></p>
<h2 id="安装依赖包"><strong>安装依赖包</strong></h2><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span></span><br></pre></td></tr></table></figure>
<p>本地查看</p>
<p>现在我们已经搭建起本地的hexo博客了，执行以下命令(在H:\hexo)，然后到浏览器输入localhost:4000看看。<br><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo generate <span class="preprocessor">#生成静态页面至public目录</span></span><br><span class="line">hexo <span class="keyword">server</span> <span class="preprocessor">#开启预览访问端口（默认端口4000，'ctrl + c'关闭server）</span></span><br></pre></td></tr></table></figure></p>
<p>出现了默认的网页界面。至此，本地博客已经搭建起来了。<br><br></p>
<h1 id="Hexo的使用"><strong>Hexo的使用</strong></h1><p>首先大致了解下默认生成了一些文件。</p>
<ul>
<li><code>scaffolds</code>   layout模板文件目录，其中的md文件可以添加编辑</li>
<li><code>scripts</code> 写文件的js，扩展hexo的功能</li>
<li><code>source/_posts</code> 存放博客正文内容</li>
<li><code>node_modules</code> 插件的目录</li>
<li><code>themes</code> 存放皮肤的目录</li>
<li><code>themes/landscape</code> 默认的主题</li>
<li><code>_config.yml</code> 全局的配置文件，大多数的设置都在这里</li>
<li><code>db.json</code> 静态常量</li>
</ul>
<p>_posts目录：Hexo是一个静态博客框架，因此没有数据库。文章内容都是以文本文件方式进行存储的，直接存储在_posts的目录。Hexo天生集成了markdown，我们可以直接使用markdown语法格式写博客，例如:hello-world.md。新增加一篇文章，就在_posts目录，新建一个xxx.md的文件。</p>
<p>themes目录：是存放主题的，包括一套Javascript+CSS样式和基于EJS的模板设置。通过在themes目录下，新建一个子目录，就可以创建一套新的皮肤，当然我们也可以直接在landscape上面修改。</p>
<h2 id="安装插件和主题"><strong>安装插件和主题</strong></h2><p>Hexo提供丰富<a href="https://github.com/hexojs/hexo/wiki/Themes" target="_blank" rel="external">主题</a>的以及<a href="https://github.com/hexojs/hexo/wiki/Plugins" target="_blank" rel="external">插件</a>。安装方法都是一样的。</p>
<ul>
<li>主题</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clone <span class="tag">&lt;<span class="title">repository</span>&gt;</span> themes/<span class="tag">&lt;<span class="title">theme-name</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>无论是插件还是主题在安装后都需要在根目录下_config.yml中修改plugins和theme的值以启用他们。<br>主题目录里也有个_config.yml文件，不同主题配置方法不同。<br>我的博客左边一栏里的社交链接。图标来源设置在main.style里。<br><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">├── layout <span class="preprocessor">#布局，根目录下的*.ejs文件是对主页，分页，存档等的控制</span></span><br><span class="line"><span class="string">|   ├── _partial   #局部的布局，此目录下的*.ejs是对头尾等局部的控制</span></span><br><span class="line"><span class="string">|   </span></span><br><span class="line">├── source <span class="preprocessor">#源码</span></span><br><span class="line"><span class="string">|   ├── css#css源码 </span></span><br><span class="line"><span class="string">|   |   ├── _base  #*.styl基础css</span></span><br><span class="line"><span class="string">|   |   ├── _partial   #*.styl局部css</span></span><br><span class="line"><span class="string">|   |   ├── fonts  #字体</span></span><br><span class="line"><span class="string">|   |   ├── style.styl #*.styl引入需要的css源码</span></span><br><span class="line"><span class="string">|   ├── images #图片fancybox   </span></span><br><span class="line"><span class="string">|   |—— fancybox效果源码</span></span><br><span class="line"><span class="string">|   └── js #javascript源代码</span></span><br><span class="line">├── _config.yml<span class="preprocessor">#主题配置文件</span></span><br><span class="line">└── README.md  <span class="preprocessor">#用GitHub的都知道</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>插件</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="operator"><span class="keyword">install</span> &lt;<span class="keyword">plugin</span>-name&gt; <span class="comment">--save</span></span></span><br></pre></td></tr></table></figure>
<p>启用插件：在根目录\ _config.yml文件添加：<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plugins:</span><br><span class="line">- &lt;plugin-<span class="property">name</span>&gt;  <span class="comment">#插件名</span></span><br></pre></td></tr></table></figure></p>
<p>升级插件：<br><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">npm</span> update</span><br></pre></td></tr></table></figure></p>
<p>卸载插件：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="operator"><span class="keyword">uninstall</span> &lt;<span class="keyword">plugin</span>-name&gt;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="添加RSS"><strong>添加RSS</strong></h3><p>hexo提供了RSS的生成插件，需要手动安装和设置。步骤如下：<br>安装RSS插件到本地：<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> hexo-generator-feed</span><br></pre></td></tr></table></figure></p>
<p>开启RSS功能：编辑hexo/_config.yml，添加如下代码：<br><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plugins:</span><br><span class="line"><span class="bullet">- </span>hexo-generator-feed</span><br></pre></td></tr></table></figure></p>
<p>在站点添加链接：<br>在themes/light/_config.yml中，编辑 rss: /atom.xml</p>
<h3 id="添加sitemap"><strong>添加sitemap</strong></h3><p>同样的，我们使用hexo提供的插件，方法与添加RSS类似。<br>安装sitemap到本地：<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> hexo-generator-sitemap</span><br></pre></td></tr></table></figure></p>
<p>开启sitemap功能：编辑<code>hexo/_config.yml</code>，添加如下代码：<br><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plugins:</span><br><span class="line"><span class="bullet">- </span>hexo-generator-sitemap</span><br></pre></td></tr></table></figure></p>
<h3 id="添加Google_Analytics"><strong>添加Google Analytics</strong></h3><ol>
<li>注册<a href="http://www.google.com/analytics/" target="_blank" rel="external">Google Analytics账号</a>。</li>
<li>添加自己的网站域名。</li>
<li>把JS代码Copy到Hexo的\themes\yilia\layout_partial\after_footer文件中。</li>
<li>保存文件，重新生成、部署Hexo。数据统计不会立即生效，需要等待几个小时。</li>
</ol>
<p>在mac平台上，可以使用<a href="https://itunes.apple.com/cn/app/gaget-simple-widget-for-google/id968487158?l=en&amp;mt=12" target="_blank" rel="external">GAget</a>方便查看。<br><br></p>
<h1 id="部署到github上"><strong>部署到github上</strong></h1><p>部署到Github前需要配置<code>_config.yml</code>文件。<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">deploy</span>:</span><br><span class="line">  <span class="attribute">type</span>: github</span><br><span class="line">  <span class="attribute">repository</span>: git<span class="variable">@github</span>.<span class="attribute">com</span>:thddaniel/thddaniel.github.io.git</span><br><span class="line">  <span class="attribute">branch</span>: master</span><br></pre></td></tr></table></figure></p>
<p>执行下列指令即可完成部署。<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">hexo</span> clean</span><br><span class="line">hexo generate <span class="comment">#生成静态页面至public目录</span></span><br><span class="line">hexo deploy  <span class="comment">#将.deploy目录部署到GitHub</span></span><br></pre></td></tr></table></figure></p>
<p>每次修改本地文件后，需要<code>hexo generate</code>才能保存。<br>有的时候当你修改页面或更改配置后发现并没有立即生效，可以执行<code>hexo clean</code>，通常直接执行<code>hexo g &amp;&amp; hexo d</code>。</p>
<p>Github的版本库通常建议同时附上README.md说明文件，但是hexo默认情况下会把所有md文件解析成html文件，所以即使你在线生成了README.md，它也会在你下一次部署时被删去。怎么解决呢？</p>
<p>在执行hexo deploy前把在本地写好的README.md文件复制到.deploy文件夹中，再去执行hexo deploy。<br>注：之前修改过branch: gh-pages，但是一直显示404.不填默认为master<br><br></p>
<h1 id="部署到gitCafe上"><strong>部署到gitCafe上</strong></h1><p>目前baidu无法扒取github的数据了，托管在github的朋友们会碰到抓取失败的问题。现在采取把博客同步到github和gitcafe的方案，通过DNSPod自定义线路类型，使电信的走电信的，网通的走网通的，国内的走Gitcafe，国外的走Github,速度大增。首先注册<a href="https://gitcafe.com/signup" target="_blank" rel="external">gitcafe</a>。必须注意git全局变量中的user.name与user.email在两个网站的注册信息中必须都是一样的。</p>
<p>因为使用github已经有了一套公秘钥，我希望能够在 GitCafe 上使用另一套独立的公秘钥，使得多套公秘钥可以同时存在与工作。</p>
<p>1.生成新的 SSH 秘钥</p>
<p>假设已经有了一套名为 id_rsa 的公秘钥，将要生成的公秘钥名称为 gitcafe，也可以使用任何你喜欢的名字。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">"thddaniel92@gmail.com"</span> <span class="operator">-f</span> ~/.ssh/gitcafe</span><br></pre></td></tr></table></figure></p>
<p>生成过程中会出现一些信息，按屏幕提示操作，并记得输入 passphrase 口令。</p>
<p>这将在 ~/.ssh/ 目录下生成 <code>gitcafe</code> 和 <code>gitcafe.pub</code> 文件，记住千万不要把私钥文件 <code>gitcafe</code> 透露给任何人。</p>
<p>2.在 SSH 用户配置文件 ~/.ssh/config 中指定对应服务所使用的公秘钥名称，如果没有 config 文件的话就新建一个，并输入以下内容：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Host gitcafe<span class="class">.com</span> www<span class="class">.gitcafe</span><span class="class">.com</span></span><br><span class="line">  IdentityFile ~/.ssh/gitcafe</span><br></pre></td></tr></table></figure></p>
<p>3.进入 GitCafe —&gt;账户设置—&gt;SSH 公钥管理设置项，点击添加新公钥 按钮，在 Title 文本框中输入任意字符，在 Key 文本框粘贴刚才复制的公钥字符串<code>gitcafe.pub</code>，按保存按钮完成操作。</p>
<p>4.最后测试配置文件是否正常工作<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">ssh</span> -T git<span class="variable">@gitcafe</span>.com</span><br></pre></td></tr></table></figure></p>
<p>如果是第一次连接的话，会出现警告，请检查一下显示的指纹是否一致：84:9e:c9:8e:7f:36:28:08:7e:13:bf:43:12:74:11:4e。输入 yes 按回车就可以了。</p>
<p>5.创建公开项目。如果你创建的项目名与用户名相同，GitCafe会自动识别成这是一个Page项目。</p>
<ul>
<li><p>进入你的hexo博客目录下面的’.deploy’目录，创建gitcafe-pages分支，并切换到该分支</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -<span class="tag">b</span> gitcafe-pages</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加到gitcafe的远程仓库</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">git</span> remote add origin <span class="string">'git<span class="variable">@gitcafe</span>.com:tanghao/tanghao.git'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>push到gitcafe仓库</p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">push</span> -u origin gitcafe-pages</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>在完成上述操作后，即可访问 tanghao.gitcafe.io ,来查看页面效果了！</p>
<p>6.要使Hexo支持同时发布到多个git仓库中。 </p>
<p>先安装 <a href="https://github.com/hexojs/hexo-deployer-git" target="_blank" rel="external">hexo-deployer-git</a>,支持hexo 3.0版本。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="operator"><span class="keyword">install</span> hexo-deployer-git <span class="comment">--save</span></span></span><br></pre></td></tr></table></figure></p>
<p>需要修hexo根目录下的改_config.yml，原来的配置:<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">deploy:</span></span><br><span class="line"><span class="string">type:</span> github</span><br><span class="line"><span class="string">repo:</span> <span class="string">github:</span> <span class="string">https:</span><span class="comment">//github.com/&lt;username&gt;/&lt;username&gt;.github.io.git</span></span><br><span class="line"><span class="string">branch:</span> master</span><br></pre></td></tr></table></figure></p>
<p>现在改成<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">deploy</span>:</span><br><span class="line">   <span class="attribute">type</span>: git</span><br><span class="line">   <span class="attribute">repo</span>: </span><br><span class="line">      <span class="attribute">github</span>: <span class="attribute">https</span>:<span class="comment">//github.com/thddaniel/thddaniel.github.io,master</span></span><br><span class="line">      <span class="attribute">gitcafe</span>: <span class="attribute">https</span>:<span class="comment">//gitcafe.com/tanghao/tanghao.git,gitcafe-pages</span></span><br></pre></td></tr></table></figure></p>
<p>7.写个复合命令别名添加到<code>~/.bash_profile</code></p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alias upblog='<span class="keyword">cd</span> ~/Documents/hexo/ &amp;&amp; hexo <span class="keyword">g</span> &amp;&amp; hexo <span class="keyword">d</span>'</span><br></pre></td></tr></table></figure>
<p>输入命令<code>source .bash_profile</code>即可使用<code>upblog</code>命令。  </p>
<p>note:</p>
<p>In OSX the terminal you get is a login session so reads <code>.bash_profile</code> etc.</p>
<p>On other Unices xterm runs a non login shell by default so they read <code>.bashrc</code>.</p>
<p>8.绑定域名。</p>
<p>Gitcafe则可以绑定多个域名，在博客项目页面下项目管理-&gt;Pages服务-&gt;添加自定义域名添加自己的域名。</p>
<p>我使用<a href="https://www.namecheap.com/" target="_blank" rel="external">namecheap</a>管理域名。在<code>All Host Records</code>添加URL指向。</p>
<p>9.Dnspod做定向DNS解析</p>
<p>在<a href="https://www.dnspod.com" target="_blank" rel="external">Dnspod国际版</a>中选择自己的域名，添加两条A记录，国内路线使用GitCafe（A地址：207.226.141.135 CName:gitcafe.io）国外走Github线路（A地址192.30.252.153及192.30.252.154）</p>
<h1 id="写文章"><strong>写文章</strong></h1><p>markdown语法参考<a href="http://tanghaoblog.me/2014/10/26/Markdown笔记/" target="_blank" rel="external">Markdown笔记</a></p>
<ul>
<li><strong>开头加信息</strong></li>
</ul>
<p>标准示例：<br><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">---</span><br><span class="line"></span>layout: post</span><br><span class="line">title: "使用hexo搭建博客"</span><br><span class="line">date: 2014-10-26 19:18</span><br><span class="line">comments: true</span><br><span class="line">tags: </span><br><span class="line"><span class="code">	- hexo</span></span><br><span class="line"><span class="header">description：</span><br><span class="line">---</span></span><br></pre></td></tr></table></figure></p>
<p>如果你是不想hexo g时被模板改变你的html的话，可在在文件头加layout: false</p>
<p>例如新建一个404页面，添加 source/404.html</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">layout: false</span><br><span class="line">---</span><br><span class="line"><span class="tag">&lt;<span class="title">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">meta</span> <span class="attribute">charset</span>=<span class="value">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">title</span>&gt;</span>公益404<span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">h1</span>&gt;</span>404 Page Not Found<span class="tag">&lt;/<span class="title">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">src</span>=<span class="value">"http://www.qq.com/404/search_children.js"</span>     <span class="attribute">charset</span>=<span class="value">"utf-8"</span>&gt;</span><span class="undefined"></span><br><span class="line"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>关于摘要</strong></li>
</ul>
<p>在文档中插入<code>&lt;!--more--&gt;</code>就可以将文章分隔，more以上的部分会已摘要的形式显示，当查看全文时more以下的部分才会显示出来。也可以在Markdown文件中定义description。</p>
<ul>
<li><strong>嵌入图片、音乐、视频</strong></li>
</ul>
<p>实际上，在hexo中，markdown支持html标签，md文件解析为html时原有的html部分会保留。有基于此，我们只要在文中插入符合html规范的代码即可。</p>
<p><strong>图片：</strong><br>同样放到source目中下。建议大家建立一个image文件夹，把文章中使用到的图片丢到这里来（当然可以按照你的习惯进行分类），之后在Markdown文件中按照这样的语法进行插入图片的操作。<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![<span class="link_label">图片名称</span>](<span class="link_url">&#123;&#123;BASE_PATH&#125;&#125;image/图片名称.jpg</span>)</span><br></pre></td></tr></table></figure></p>
<p><strong>音乐：</strong><br>以『虾米音乐』为例，歌曲页面有个『转帖』选项，将html代码或javascript代码复制到文中即可。<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;embed <span class="variable">src=</span><span class="string">"http://www.xiami.com/widget/0_168498_235_346_FF8719_494949/albumPlayer.swf"</span> <span class="variable">type=</span><span class="string">"application/x-shockwave-flash"</span> <span class="variable">width=</span><span class="string">"235"</span> <span class="variable">height=</span><span class="string">"346"</span> <span class="variable">wmode=</span><span class="string">"transparent"</span>&gt;&lt;/embed&gt;</span><br></pre></td></tr></table></figure></p>
<embed src="http://www.xiami.com/widget/0_168498_235_346_FF8719_494949/albumPlayer.swf" type="application/x-shockwave-flash" width="235" height="346" wmode="transparent">

<p><strong>视频：</strong><br>嵌入视频的方法和音乐类似，视频网站每个视频页面都会有一个『分享』或『转帖』按钮，点击可以查看代码。</p>
<p><br><br><br></p>
<hr>
<p><strong>参考文献</strong></p>
<ul>
<li><a href="http://ibruce.info/2013/11/22/hexo-your-blog/?utm_source=tuicool" target="_blank" rel="external">不如-hexo你的博客</a></li>
<li><a href="http://www.zhaokongnuan.com/2015/03/01/github-gitcafe/" target="_blank" rel="external">hexo博客同步到github和gitcafe</a></li>
<li><a href="http://blog.maxwi.com/2014/03/19/hexo-github-to-gitcafe/" target="_blank" rel="external">如何将托管在github上的hexo博客转到gitcafe</a></li>
<li><a href="https://gitcafe.com/GitCafe/Help/wiki/Pages-相关帮助" target="_blank" rel="external">如何创建Page</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2014/10/27/Managing Money/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">&lt;</strong>
      <div class="article-nav-title">
        
          Managing Money
        
      </div>
    </a>
  
  
    <a href="/2014/10/26/Markdown笔记/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Markdown笔记</div>
      <strong class="article-nav-caption">&gt;</strong>
    </a>
  
</nav>

  
</article>


<div class="share">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">分享到：</span>
		<a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
		<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>



<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="使用hexo搭建博客" data-title="使用hexo搭建博客" data-url="http://yoursite.com/2014/10/26/使用hexo搭建博客/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"true"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>




      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Tang Hao
            <a href="mailto:thddaniel92@gmail.com" >发邮件</a>
            
         
            
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Code <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Theme</a> by Litten
      	</div>
    
        <div>
        <form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
         搜索:<input type="search" name="q" id="search" autocomplete="off" autocorrect="off" autocapitalize="off" maxlength="18" placeholder="关键字" />
         <input type="hidden" name="q" value="site:yoursite.com">
        </form>
        </div>
        
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>
  <script src="/js/main.js" type="text/javascript"></script> 
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61735277-1', 'auto');
  ga('send', 'pageview');

</script> 


  </div>
</body>
</html>